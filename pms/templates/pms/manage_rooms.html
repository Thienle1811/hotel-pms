{% extends 'pms/base.html' %}
{% load humanize %} {% block title %}{{ page_title }}{% endblock %}

{% block extra_css %}
  .status-Vacant { color: #28a745; font-weight: bold; }
  .status-Dirty { color: #6c757d; font-weight: bold; }
  .status-Occupied { color: #dc3545; font-weight: bold; }
  .status-Booked { color: #ffc107; font-weight: bold; }
  .actions a { color: #007bff; text-decoration: none; margin-right: 10px; }
  .actions a:hover { text-decoration: underline; }
{% endblock %}

{% block content %}
  <h2>{{ page_title }}</h2>
  
  <div style="text-align: right; margin-bottom: 15px;">
      <a href="{% url 'room-create' %}" class="btn-action btn-green" style="padding: 10px 15px; font-size: 1em;">+ Thêm Phòng Mới</a>
  </div>

  <table>
    <thead>
      <tr>
        <th>ID</th>
        <th>Số Phòng</th>
        <th>Loại Phòng</th>
        <th>Giá/Đêm (VND)</th>
        <th>Trạng thái</th>
        <th>Hành động</th>
      </tr>
    </thead>
    <tbody>
      {% for room in rooms %}
      <tr>
        <td>{{ room.id }}</td>
        <td><strong>{{ room.room_number }}</strong></td>
        <td>{{ room.room_type }}</td>
        <td>{{ room.price_per_night|intcomma }}</td>
        <td class="status-{{ room.status }}">{{ room.get_status_display }}</td>
        <td class="actions">
          <a href="{% url 'room-qr-code' room.id %}" style="color: #28a745;">Xem QR</a> 
          <a href="{% url 'room-edit' room.id %}">Sửa Cấu hình</a>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
{% endblock %}